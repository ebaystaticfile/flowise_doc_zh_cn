# 会话摘要缓冲区内存

使用 Flowise 数据库表 `chat_message` 作为存储/检索会话的存储机制。

此内存保留最近交互的缓冲区，并将旧的交互编译成摘要，两者都存储在其内。它不再仅仅根据交互的数量来清除旧的交互，而是考虑标记的总长度来决定何时清除它们。

<figure><img src="../../../.gitbook/assets/image (4) (1) (2).png" alt="" width="297"><figcaption></figcaption></figure>

## 输入参数

| 参数名称       | 描述                                                                   | 默认值       |
| --------------- | ----------------------------------------------------------------------------- | ------------- |
| 对话模型      | 用于执行摘要的 LLM                                                             |               |
| 最大标记限制 | 达到了标记限制后，对会话进行摘要                                          | 2000          |
| 会话 ID      | 用于检索/存储消息的 ID。如果未指定，则将使用随机 ID。                         |               |
| 内存键      | 用于在提示模板中格式化消息的键                                             | chat\_history |
